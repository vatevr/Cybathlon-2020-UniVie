import requests

while (True):
    balances = requests.get('https://api.exchange.waskurzes.com/public/v1/account/balances', headers = {'Authorization': "Bearer eyJvcmciOiJiaXRwYW5kYS1nZSIsImFsZyI6IlJTMjU2Iiwia2lkIjoiZXhjaGFuZ2UtZGV2In0.eyJhdWQiOlsid3NzOlwvXC9zdHJlYW1zLmV4Y2hhbmdlLndhc2t1cnplcy5jb20iLCJodHRwczpcL1wvYXBpLmV4Y2hhbmdlLndhc2t1cnplcy5jb20iXSwic3ViIjoiYWNjOmVkNTI0ZDAwLTgyMGEtMTFlOS04ZjFlLTY5NjAyZGYxNmQ4NSIsInNjcCI6WyJVU0VSX0lOVEVSRkFDRSJdLCJuYmYiOjE1ODI0OTU5ODYsImF6cCI6ImV4Y2hhbmdlLXVpIiwiaXNzIjoiaHR0cHM6XC9cL2FwaS5leGNoYW5nZS53YXNrdXJ6ZXMuY29tXC9vYXV0aDIiLCJleHAiOjE1ODI0OTkyODYsImlhdCI6MTU4MjQ5NTk4NiwianRpIjoiZURlNVhNNFdlUmNvM3pWNkZMRl9mVElUZGVuYTgwVzBDYU16dDR5Q1dHVTo6Q1c1N2hGRzlaMU5vU2xpTGlqVDN6QSIsImRpZCI6ImFnVmFFaktiNlVWdnU3YXgteTVHZzBIQXdsMTJwbllGWXNJNnNGN2FmT1EifQ.IfZbEoI-M3YI3Pwt3Q0pqmaIJKZuyDh5Pp3TLBeIKO608zSZ8pOLyOB_rz4ZD3D_lPrgcO-pg7fE6rotQLCAZE4kIO-Kzrl2a0DNXUepHQjjG5myQgP6dA24VH6cYYJvGXDEuIXnAKQy_Mg2yjEfd7Ov9UBuez9Bt__iDmuU9v3UGAg3rqjf_1ZNmkYkqrfOYCQg1LzIePCgT3EnDOrjMTe5r3RLnWDZGFUBN9h66_HaURSfDImTXVuUwUa6f6snDDq5FeB_0UvDvRYB8Syv39mlgmLlC1xcvfr9eJgGjjIq4Ug1iAus98bc58FKALt-g2uu37cebZiwAkOFEOcZaw"})

    print(balances.headers['bp-remaining-quota'])
    if balances.status_code == 429:
        break


print('limit is over')

balances = requests.get('https://api.exchange.waskurzes.com/public/v1/account/balances', headers = {'Authorization': "Bearer eyJvcmciOiJiaXRwYW5kYS1nZSIsImFsZyI6IlJTMjU2Iiwia2lkIjoiZXhjaGFuZ2UtZGV2In0.eyJhdWQiOlsid3NzOlwvXC9zdHJlYW1zLmV4Y2hhbmdlLndhc2t1cnplcy5jb20iLCJodHRwczpcL1wvYXBpLmV4Y2hhbmdlLndhc2t1cnplcy5jb20iXSwic3ViIjoiYWNjOmVkNTI0ZDAwLTgyMGEtMTFlOS04ZjFlLTY5NjAyZGYxNmQ4NSIsInNjcCI6WyJVU0VSX0lOVEVSRkFDRSJdLCJuYmYiOjE1ODI0OTU5ODYsImF6cCI6ImV4Y2hhbmdlLXVpIiwiaXNzIjoiaHR0cHM6XC9cL2FwaS5leGNoYW5nZS53YXNrdXJ6ZXMuY29tXC9vYXV0aDIiLCJleHAiOjE1ODI0OTkyODYsImlhdCI6MTU4MjQ5NTk4NiwianRpIjoiZURlNVhNNFdlUmNvM3pWNkZMRl9mVElUZGVuYTgwVzBDYU16dDR5Q1dHVTo6Q1c1N2hGRzlaMU5vU2xpTGlqVDN6QSIsImRpZCI6ImFnVmFFaktiNlVWdnU3YXgteTVHZzBIQXdsMTJwbllGWXNJNnNGN2FmT1EifQ.IfZbEoI-M3YI3Pwt3Q0pqmaIJKZuyDh5Pp3TLBeIKO608zSZ8pOLyOB_rz4ZD3D_lPrgcO-pg7fE6rotQLCAZE4kIO-Kzrl2a0DNXUepHQjjG5myQgP6dA24VH6cYYJvGXDEuIXnAKQy_Mg2yjEfd7Ov9UBuez9Bt__iDmuU9v3UGAg3rqjf_1ZNmkYkqrfOYCQg1LzIePCgT3EnDOrjMTe5r3RLnWDZGFUBN9h66_HaURSfDImTXVuUwUa6f6snDDq5FeB_0UvDvRYB8Syv39mlgmLlC1xcvfr9eJgGjjIq4Ug1iAus98bc58FKALt-g2uu37cebZiwAkOFEOcZaw"})
print(balances.headers)